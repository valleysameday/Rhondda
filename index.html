<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rhondda Noticeboard</title>

  <!-- Main Styles -->
  <link rel="stylesheet" href="/index/css/main.css" />

  <!-- SEO / Trust -->
  <meta name="description" content="Local offers, events and services across Rhondda. A community noticeboard for residents and businesses." />
</head>

<body>
<header>
  <div class="header-inner">
    <img src="/images/logo.svg" alt="Logo for Rhondda community site" class="logo" />
  </div>
</header>

<main>
  <!-- Weather Snippet -->
  <section id="weatherSnippet" class="weather-snippet">
    <span class="weather-emoji">⏳</span>
    <span class="weather-text">Loading today's weather…</span>
  </section>

<!-- Categories (below weather) -->
<section id="categories">
  <button data-category="market" class="category-btn">Market</button>
  <button data-category="all" class="category-btn active">All</button>
  <button data-category="offers" class="category-btn">Offers</button>
  <button data-category="events" class="category-btn">Events</button>
  <button data-category="services" class="category-btn">Services</button>
</section>

<!-- Dynamic Subcategories -->
<section id="subcategories" class="subcategories" style="display:none;">
  <!-- Subcategory buttons will be injected here -->
</section>

  <!-- Posts Grid -->
  <section id="postsContainer" class="posts-grid">
    <!-- Cards injected by JS -->
  </section>
</main>

<!-- MODALS (outside main so blur works correctly) -->
<div id="loginModal" class="modal">
  <div class="modal-content">
    <span class="close" aria-label="Close login">&times;</span>
    <h2>Business Login</h2>
    <input type="email" id="loginEmail" name="email" placeholder="Email" autocomplete="email" required>
    <input type="password" id="loginPassword" name="password" placeholder="Password" autocomplete="current-password" required>
    <button id="loginBtn">Login</button>
  </div>
</div>

<div id="postModal" class="modal">
  <div class="modal-content">
    <span class="close" aria-label="Close post">&times;</span>
    <h2>Post an Offer</h2>
    <input type="text" id="postTitle" name="title" placeholder="Title" required>
    <textarea id="postDescription" name="description" placeholder="Description" rows="4" required></textarea>
    <select id="postCategory" name="category" required>
      <option value="">Select category</option>
      <option value="offers">Offers</option>
      <option value="events">Events</option>
      <option value="services">Services</option>
    </select>
    <button id="postBtn">Submit</button>
  </div>
</div>

<div id="joinModal" class="modal">
  <div class="modal-content">
    <span class="close" aria-label="Close join">&times;</span>
    <h2>Join Us</h2>
    <!-- Join form inputs go here -->
  </div>
</div>

<!-- Fixed Action Bar -->
<div class="action-bar">
  <a href="#" id="postAdBtn" class="action-link post-free">
    <div class="icon-wrap">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="12" y1="8" x2="12" y2="16"></line>
        <line x1="8" y1="12" x2="16" y2="12"></line>
      </svg>
      <span class="free-ribbon">FREE</span>
    </div>
    <span>Post an Ad</span>
  </a>

  <a href="#" id="loginBtn" class="action-link">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
      <polyline points="10 17 15 12 10 7"></polyline>
      <line x1="15" y1="12" x2="3" y2="12"></line>
    </svg>
    <span class="label-main">Login</span>
  </a>

  <a href="#" id="joinBtn" class="action-link">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
      <circle cx="8.5" cy="7" r="4"></circle>
      <line x1="20" y1="8" x2="20" y2="14"></line>
      <line x1="23" y1="11" x2="17" y2="11"></line>
    </svg>
    <span class="label-main">Join Us</span>
  </a>
</div>

<footer>
  <p>&copy; 2025 Rhondda Noticeboard</p>
  <p class="footer-links">
    <a href="/about.html">About</a> ·
    <a href="/terms.html">Terms</a> ·
    <a href="/contact.html">Contact</a>
  </p>
</footer>

<script src="/index/js/feed.js" defer></script>
<script src="/index/js/ui-router.js" defer></script>
</body>
</html>
