<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rhondda Noticeboard</title>

  <meta name="description"
        content="Local offers, events and services across Rhondda. A community noticeboard for residents and businesses." />

  <link rel="stylesheet" href="/index/css/main.css">
<link rel="stylesheet" href="/index/css/index-cards.css">
<link rel="stylesheet" href="/index/css/modals.css">
</head>

<body>

<!-- ================= HEADER ================= -->
<header>
  <div class="header-inner">
    <a href="/">
      <img src="/images/logo.svg"
           alt="Rhondda Noticeboard logo"
           class="logo" />
    </a>
  </div>
</header>
<!-- ================= MAIN (SPA CONTAINER) ================= -->
<main id="app">
  <div id="view-home" class="view"></div>
</main>

<!-- ================= LOGIN MODAL ================= -->
<div id="login" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <h2>Log in</h2>

    <input type="email" id="loginEmail" placeholder="Email" autocomplete="email">
    <input type="password" id="loginPassword" placeholder="Password" autocomplete="current-password">

    <button id="loginSubmit">Log in</button>

    <p id="loginFeedback" class="feedback-text"></p>

    <p class="modal-switch">
      No account?
      <span data-action="open-screen" data-value="signup">Create one</span>
    </p>

    <p class="modal-link"
       data-action="open-screen"
       data-value="forgot">
      Forgot password?
    </p>
  </div>
</div>

<!-- ================= FORGOT PASSWORD MODAL ================= -->
<div id="forgot" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <h2>Reset Password</h2>

    <input type="email" id="forgotEmail" placeholder="Enter your email" autocomplete="email">

    <button id="forgotSubmit">Send Reset Email</button>

    <p class="modal-switch">
      Remembered your password?
      <span data-action="open-screen" data-value="login">Back to login</span>
    </p>
  </div>
</div>

<!-- ================= PASSWORD RESET CONFIRMATION MODAL ================= -->
<div id="resetConfirm" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <h2>Email Sent ✅</h2>
    <p>Check your inbox for a password reset link.</p>

    <button data-action="open-screen" data-value="login">
      Back to Login
    </button>
  </div>
</div>

<!-- ================= SIGNUP MODAL ================= -->
<div id="signup" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <h2>Create account</h2>

    <input type="email" id="signupEmail" placeholder="Email" autocomplete="email">
    <input type="password" id="signupPassword" placeholder="Password" autocomplete="new-password">

    <label class="checkbox-label">
      <input type="checkbox" id="isBusinessAccount">
      This is a business account
    </label>

    <div id="businessBenefits" class="business-benefits">
      <h4>Business Account Benefits</h4>
      <ul>
        <li>Post featured ads</li>
        <li>Get premium visibility</li>
        <li>Access business analytics</li>
        <li>Priority support</li>
      </ul>
    </div>

    <button id="signupSubmit">Create account</button>

    <p id="signupFeedback" class="feedback-text"></p>

    <p class="modal-switch">
      Already have an account?
      <span data-action="open-screen" data-value="login">Log in</span>
    </p>
  </div>
</div>

<!-- ================= POST MODAL ================= -->
<div id="posts-grid" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <div id="postFlow">

      <div class="post-step" data-step="1">
        <h2>Select a Category</h2>
        <select id="postCategory">
          <option value="">Choose category</option>
          <option value="forsale">For Sale</option>
          <option value="jobs">Jobs & Services</option>
          <option value="property">Property</option>
          <option value="events">Events</option>
          <option value="community">Community</option>
          <option value="free">Free</option>
        </select>
        <button class="post-next">Next</button>
      </div>

      <div class="post-step" data-step="2">
        <h2>Select a Subcategory</h2>
        <select id="postSubcategory"></select>
        <button class="post-prev">Back</button>
        <button class="post-next">Next</button>
      </div>

      <div class="post-step" data-step="3">
        <h2>Ad Details</h2>

        <input type="text" id="postTitle" placeholder="Title" required>
        <textarea id="postDescription" rows="4" placeholder="Description" required></textarea>

        <label>Price (optional)</label>
        <input type="number" id="postPrice" placeholder="0" min="0" step="0.01">

        <label>Your Area</label>
        <input type="text" id="postArea" placeholder="e.g. Ferndale, Pentre, Tonypandy">

        <label>Add Photos</label>

<div class="photo-uploader">
  <input
    type="file"
    id="postImages"
    accept="image/*"
    multiple
    hidden
  >

  <button type="button" id="addPhotosBtn" class="ghost-btn">
    + Add photos
  </button>

  <small class="hint-text">
    Add up to 10 photos. First photo becomes the cover.
  </small>

  <div id="imagePreview" class="image-preview-grid"></div>
</div>

        <button class="post-prev">Back</button>
        <button id="postSubmitBtn">Submit Ad</button>
      </div>

    </div>

    <p id="postFeedback" class="feedback-text"></p>
  </div>
</div>


  <!-- ================= FIXED ACTION BAR ================= -->
<div class="action-bar">

  <!-- Home -->
  <a href="/" class="action-link">
    <!-- svg unchanged -->
    <span class="label-main">Home</span>
  </a>

  <!-- Post an Ad -->
  <a href="/post"
     class="action-link post-free"
     data-action="open-post-modal">
    <div class="icon-wrap">
      <!-- svg unchanged -->
      <span class="free-ribbon">FREE</span>
    </div>
    <span>Post an Ad</span>
  </a>

  <!-- Messages -->
  <a href="/messages" class="action-link">
    <!-- svg unchanged -->
    <span class="label-main">Messages</span>
  </a>

  <!-- My Account -->
  <a href="/account"
     class="action-link"
     data-action="open-account">
    <!-- svg unchanged -->
    <span class="label-main">My Account</span>
  </a>

</div>


<!-- ================= FOOTER ================= -->
<footer>
  <p>&copy; 2025 Rhondda Noticeboard</p>
  <p class="footer-links">
    <a href="/about.html">About</a> ·
    <a href="/terms.html">Terms</a> ·
    <a href="/contact.html">Contact</a>
  </p>
</footer>

<!-- SPA + App Logic -->
<script type="module" src="/index/js/main.js"></script>

</body>
</html>
