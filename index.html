<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RCT-X</title>

  <meta name="description"
        content="Local offers, events and services across Rhondda. A community noticeboard for residents and businesses." />

  <link rel="stylesheet" href="/index/css/main.css">
<link rel="stylesheet" href="/index/css/index-cards.css">
<link rel="stylesheet" href="/index/css/modals.css">
</head>

<body>

<!-- ================= HEADER ================= -->
<header class="rctx-header">
  
  <!-- TOP ROW -->
  <div class="top-bar">
    <div class="rctx-logo">
      <svg width="110" height="32" viewBox="0 0 110 32">
        <text x="0" y="24" class="rctx-svg-logo">RCT‚ÄëX</text>
      </svg>
    </div>

    <div class="rctx-icons">
      
      <!-- 1. POST AN AD -->
      <div id="post-ad-btn" class="icon-btn" title="Post an Ad">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="none">
          <rect x="3" y="3" width="18" height="18" rx="6" stroke="currentColor" stroke-width="1.8"/>
          <path d="M12 8V16M8 12H16" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"/>
        </svg>
        <span class="icon-label">Post Ad</span>
      </div>

      <!-- 2. LOGIN -->
      <div id="auth-logged-out" class="icon-btn" title="Login or Sign Up">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
        <span class="icon-label">Login</span>
      </div>

      <!-- 3. INBOX -->
      <div id="auth-messages" class="icon-btn hidden" title="Inbox">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="none">
          <path d="M7 19C4.2 19 2 16.8 2 14V8C2 5.2 4.2 3 7 3H17C19.8 3 22 5.2 22 8V14C22 16.8 19.8 19 17 19H14.5L10 22V19H7Z" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
          <circle cx="7" cy="11" r="1" fill="currentColor"/>
          <circle cx="12" cy="11" r="1" fill="currentColor"/>
          <circle cx="17" cy="11" r="1" fill="currentColor"/>
        </svg>
        <span class="icon-label">Inbox</span>
      </div>

      <!-- 4. MENU -->
      <div class="icon-btn" title="Menu">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="none">
          <path d="M4 7H20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M4 12H14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M4 17H18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <span class="icon-label">Menu</span>
      </div>
    </div>
  </div>

  <!-- SEARCH ROW -->
  <div class="rctx-search">
    <input type="text" placeholder="Search Rhondda listings‚Ä¶" />
  </div>
<button id="openAdminDashboard" style="display:none;">Admin</button>
</header>

<!-- CATEGORY TABS -->
<nav class="rctx-tabs">
  <button class="category-btn active" data-category="localdeals">Local Deals</button>
  <button class="category-btn" data-category="free">Freebies</button>
  <button class="category-btn" data-category="jobs">Jobs & Gigs</button>
  <button class="category-btn" data-category="property">Property</button>
  <button class="category-btn" data-category="vehicles" id="cat-vehicles">Cars & Vehicles</button>
  <button class="category-btn" data-category="homegarden">Home & Garden</button>
  <button class="category-btn" data-category="pets">Pet Supplies</button>
  <button class="category-btn" data-category="services">Services</button>
  <button class="category-btn" data-category="community">Community</button>
</nav>

<!-- SUB‚ÄëCATEGORY TABS (Hidden until Cars & Vehicles is selected) -->
<nav id="sub-vehicles" class="rctx-tabs sub-tabs hidden">
  <button class="category-btn active" data-category="cars">Cars</button>
  <button class="category-btn" data-category="vans">Vans</button>
  <button class="category-btn" data-category="motorbikes">Motorbikes</button>
  <button class="category-btn" data-category="parts">Parts</button>
  <button class="category-btn" data-category="othervehicles">Other</button>
</nav>

  <!-- ================= SIDE MENU ================= -->
<div id="sideMenu" class="side-menu hidden">
  <div class="menu-content">
    <button class="close-menu">&times;</button>
    <div id="menuOptions"></div>
  </div>
</div>
  
  <!-- ================= MAIN (SPA CONTAINER) ================= -->
<main id="app">
  <div id="view-home" class="view"></div>
</main>

<!-- ================= LOGIN MODAL ================= -->
<div id="login" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <h2>Log in</h2>

    <input type="email" id="loginEmail" placeholder="Email" autocomplete="email">
    <input type="password" id="loginPassword" placeholder="Password" autocomplete="current-password">

    <button id="loginSubmit">Log in</button>

    <p id="loginFeedback" class="feedback-text"></p>

    <p class="modal-switch">
      No account?
      <span data-action="open-screen" data-value="signup">Create one</span>
    </p>
 <p class="modal-link"
       data-action="open-screen"
       data-value="forgot">
      Forgot password?
    </p>
  </div>
</div>

<!-- ================= FORGOT PASSWORD MODAL ================= -->
<div id="forgot" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <h2>Reset Password</h2>

    <input type="email" id="forgotEmail" placeholder="Enter your email" autocomplete="email">

    <button id="forgotSubmit">Send Reset Email</button>

    <p class="modal-switch">
      Remembered your password?
      <span data-action="open-screen" data-value="login">Back to login</span>
    </p>
  </div>
</div>

<!-- ================= PASSWORD RESET CONFIRMATION MODAL ================= -->
<div id="resetConfirm" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <h2>Email Sent ‚úÖ</h2>
    <p>Check your inbox for a password reset link.</p>

    <button data-action="open-screen" data-value="login">
      Back to Login
    </button>
  </div>
</div>

<!-- ================= SIGNUP MODAL ================= -->
<div id="signup" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>
<h2>Create account</h2>
<input type="email" id="signupEmail" placeholder="Email" autocomplete="email">
<input type="password" id="signupPassword" placeholder="Password" autocomplete="new-password">
    <button id="signupSubmit">Create account</button>

    <p id="signupFeedback" class="feedback-text"></p>

    <p class="modal-switch">
      Already have an account?
      <span data-action="open-screen" data-value="login">Log in</span>
    </p>
  </div>
</div>

<!-- ================= POST MODAL ================= -->
<div id="posts-grid" class="modal">
  <div class="modal-content">

    <!-- Close -->
    <button class="close" aria-label="Close" data-action="close-screens">&times;</button>

    <!-- Progress dots -->
    <div class="post-progress">
      <span class="dot active"></span>
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>

    <div id="postFlow">

<!-- STEP 1: CATEGORY -->
<div class="post-step active" data-step="1">
  <h2>What are you posting?</h2>

  <div class="category-grid">

    <!-- Local Deals (General For Sale) -->
    <button type="button" data-category="localdeals">Local Deals</button>

    <!-- Freebies -->
    <button type="button" data-category="free">Freebies</button>

    <!-- Jobs & Gigs -->
    <button type="button" data-category="jobs">Jobs & Gigs</button>

    <!-- Property -->
    <button type="button" data-category="property">Property</button>

    <!-- Cars & Vehicles -->
    <button type="button" data-category="vehicles">Cars & Vehicles</button>

    <!-- Home & Garden -->
    <button type="button" data-category="homegarden">Home & Garden</button>

    <!-- Pet Supplies -->
    <button type="button" data-category="pets">Pet Supplies</button>

    <!-- Services -->
    <button type="button" data-category="services">Services</button>

    <!-- Community -->
    <button type="button" data-category="community">Community</button>

  </div>
</div>

      <!-- STEP 2: CORE DETAILS -->
      <div class="post-step" data-step="2">
        <h2>Tell people about it</h2>

        <input type="text" id="postTitle" placeholder="Ad title" maxlength="70" required>
        <textarea id="postDescription" rows="5" placeholder="Add a description" required></textarea>

        <!-- PROPERTY ONLY -->
        <div class="property-options" hidden>
          <h3>Property details</h3>

          <div class="property-type">
            <button type="button" data-property-type="sale">For Sale</button>
            <button type="button" data-property-type="rent">To Rent</button>
          </div>

          <div class="rent-frequency">
            <button type="button" data-rent-frequency="pcm">PCM</button>
            <button type="button" data-rent-frequency="weekly">Weekly</button>
          </div>
        </div>

        <div class="post-nav">
          <button type="button" class="post-prev ghost-btn">Back</button>
          <button type="button" class="post-next primary-btn" disabled>Continue</button>
        </div>
      </div>

      <!-- STEP 3: CONTACT -->
      <div class="post-step" data-step="3">
        <h2>How can people reach you?</h2>

        <label for="postContact">Contact (optional)</label>
        <input type="tel" id="postContact" placeholder="Your phone number">

        <label for="postLocation">Location</label>
        <input type="text" id="postLocation" placeholder="e.g. Treorchy, Tonypandy">

        <div class="post-nav">
          <button type="button" class="post-prev ghost-btn">Back</button>
          <button type="button" class="post-next primary-btn">Continue</button>
        </div>
      </div>

      <!-- STEP 4: OPTIONAL DETAILS -->
      <div class="post-step" data-step="4">
        <h2>Optional details</h2>

        <!-- PRICE (hidden for free/jobs/community) -->
        <div class="price-box">
          <label for="postPrice">Price (¬£)</label>
          <input type="number" id="postPrice" placeholder="Price (optional)" min="0" step="0.01">
        </div>

        <!-- AREA (property only) -->
        <div class="area-box" hidden>
          <input type="text" id="postArea" placeholder="Property size / area (optional)">
        </div>

        <!-- FOR SALE -->
        <div class="forsale-options" hidden>
          <h3>Item details</h3>

          <label>Condition</label>
          <select id="postCondition">
            <option value="">Select condition</option>
            <option value="new">New</option>
            <option value="likenew">Like New</option>
            <option value="used">Used</option>
            <option value="needswork">Needs TLC</option>
          </select>

          <label>Delivery available?</label>
          <select id="postDelivery">
            <option value="">Select</option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>
        </div>

        <!-- PROPERTY FEATURES -->
        <div class="property-features" hidden>
          <h3>Property features</h3>

          <div class="feature-grid">

            <label class="feature-item">
              <input type="checkbox" data-feature="garden">
              üåø Garden access
            </label>

            <label class="feature-item">
              <input type="checkbox" data-feature="southfacing">
              üåû South-facing
            </label>

            <label class="feature-item">
              <input type="checkbox" data-feature="parking">
              üöó Off-road parking
            </label>

            <label class="feature-item">
              <input type="checkbox" data-feature="offers">
              üí¨ Open to offers
            </label>

            <label class="feature-item">
              <input type="checkbox" data-feature="pets">
              üêæ Pet friendly
            </label>

            <label class="feature-item">
              <input type="checkbox" data-feature="renovated">
              üõ† Newly renovated
            </label>

            <label class="feature-item">
              <input type="checkbox" data-feature="furnished">
              üõã Furnished
            </label>

            <label class="feature-item">
              <input type="checkbox" data-feature="unfurnished">
              üè° Unfurnished
            </label>

          </div>
        </div>

        <!-- JOBS -->
        <div class="jobs-options" hidden>
          <h3>Job / Service details</h3>

          <label>Job type</label>
          <select id="jobType">
            <option value="">Select</option>
            <option value="fulltime">Full‚Äëtime</option>
            <option value="parttime">Part‚Äëtime</option>
            <option value="temp">Temporary</option>
            <option value="selfemployed">Self‚Äëemployed / Service</option>
          </select>

          <label>Salary / Rate</label>
          <input type="text" id="jobSalary" placeholder="e.g. ¬£12/hr or ¬£24k/year">

          <label>Experience required?</label>
          <select id="jobExperience">
            <option value="">Select</option>
            <option value="none">No experience needed</option>
            <option value="some">Some experience</option>
            <option value="experienced">Experienced only</option>
          </select>
        </div>

        <!-- EVENTS -->
        <div class="events-options" hidden>
          <h3>Event details</h3>

          <label>Date</label>
          <input type="date" id="eventDate">

          <label>Start time</label>
          <input type="time" id="eventStart">

          <label>End time</label>
          <input type="time" id="eventEnd">

          <label>Venue</label>
          <input type="text" id="eventVenue" placeholder="Where is it happening?">
        </div>

        <!-- COMMUNITY -->
        <div class="community-options" hidden>
          <h3>Community post type</h3>

          <select id="communityType">
            <option value="">Select</option>
            <option value="lost">Lost & Found</option>
            <option value="help">Local Help Needed</option>
            <option value="announcement">Announcement</option>
            <option value="volunteer">Volunteers Wanted</option>
          </select>

          <div id="lostFoundExtra" hidden>
            <label>Last seen location</label>
            <input type="text" id="lostLocation" placeholder="Where was it last seen?">

            <label>Reward offered?</label>
            <input type="text" id="lostReward" placeholder="Optional">
          </div>
        </div>

        <!-- Photos -->
        <div class="photo-uploader">
          <input type="file" id="postImages" accept="image/*" multiple hidden>

          <button type="button" id="addPhotosBtn" class="ghost-btn">
            + Add photos
          </button>

          <small class="hint-text">
            Add photos. First photo becomes the cover.
          </small>

          <div id="imagePreview" class="image-preview-grid"></div>
        </div>

        <div class="post-nav">
          <button type="button" class="post-prev ghost-btn">Back</button>
          <button type="button" id="postSubmitBtn" class="primary-btn">Post ad</button>
        </div>
      </div>

    </div>

    <p id="postFeedback" class="feedback-text"></p>

  </div>
</div>

<!-- ================= FOOTER ================= -->
<footer class="site-footer">
  <div class="footer-inner">
    <p class="footer-brand">
      <strong>RCT-X</strong><br>
      <span class="footer-tagline">
        Browse it. Post it. Sell it.
      </span><br>
      <span class="footer-subline">
        All local. All Rhondda.
      </span>
    </p>

    <p class="footer-links">
      <a href="/about.html">About</a>
      <span>¬∑</span>
      <a href="/terms.html">Terms</a>
      <span>¬∑</span>
      <a href="/contact.html">Contact</a>
    </p>

    <p class="footer-copy">
      &copy; 2025 RCT-X ¬∑ Built for the Rhondda, Powered by Locals
    </p>
  </div>
</footer>

<!-- SPA + App Logic -->
<script type="module" src="/index/js/main.js"></script>
</body>
              </html>
