<link rel="stylesheet" href="/index/css/general-dashboard.css">
<input type="file" id="avatarUploadInput" accept="image/*" style="display:none;">

<header class="dash-header sunset">
  <div>
    <p class="dash-hello">Shwmae,</p>
    <h1 id="headerName">Your Account</h1>
    <p id="headerTagline" class="dash-tagline">Let’s get your Rhondda profile looking tidy</p>
  </div>

  <div class="dash-header-right">
    <span id="headerAreaBadge" class="area-badge">Add your area</span>
    <button id="logoutBtn" class="logout-btn">Log out</button>
  </div>
</header>

<section class="dash-section">

  <!-- ============================
       BASIC STATS (NO ANALYTICS)
  ============================= -->
  <div class="stats-box">
    <h2>Your activity</h2>
    <div class="stats-grid">
      <div class="stat-pill">
        <span id="statAdsCount" class="stat-number">0</span>
        <span class="stat-label">Active ads</span>
      </div>
    </div>

    <!-- ⭐ Upgrade prompt -->
    <p class="upgrade-hint">
      Want unlimited ads, analytics & followers?
      <span id="upgradeToBusiness" class="upgrade-link">Become a business</span>
    </p>
  </div>

  <!-- ============================
       PROFILE SECTION
  ============================= -->
  <div class="profile-box">

    <!-- Avatar -->
    <div class="avatar-section">
      <div id="avatarClickArea" class="avatar-wrapper">
        <div id="dashboardAvatar" class="avatar-circle"></div>
      </div>
      <p class="avatar-edit-hint">Tap to change photo</p>
    </div>

    <div class="profile-box-header">
      <h2>Your Profile</h2>
      <button id="toggleEditProfile" class="edit-profile-btn">Edit profile</button>
    </div>

    <!-- VIEW MODE -->
    <div id="profileViewMode" class="profile-view">
      <div class="profile-line">
        <span class="profile-label">Name</span>
        <span id="viewName" class="profile-value">Add your name</span>
      </div>

      <div class="profile-line">
        <span class="profile-label">Phone (private)</span>
        <span id="viewPhone" class="profile-value">Add your phone</span>
      </div>

      <div class="profile-line">
        <span class="profile-label">Area</span>
        <span id="viewArea" class="profile-value">Add your area</span>
      </div>

      <div class="profile-line profile-line-bio">
        <span class="profile-label">Bio</span>
        <p id="viewBio" class="profile-value bio-value">
          Tell locals a bit about yourself and what you’re selling.
        </p>
      </div>
    </div>

    <!-- EDIT MODE -->
    <div id="profileEditMode" class="profile-edit" style="display:none;">
      <div class="profile-row">
        <label for="profileNameInput">Name</label>
        <input id="profileNameInput" type="text" placeholder="Your name">
      </div>

      <div class="profile-row">
        <label for="profilePhoneInput">Phone (private)</label>
        <input id="profilePhoneInput" type="text" placeholder="Your phone number">
        <small class="hint-text">Buyers use this to contact you. Never shown publicly without permission.</small>
      </div>

      <div class="profile-row" style="position: relative;">
        <label for="profileAreaInput">Area</label>
        <input id="profileAreaInput" type="text" placeholder="e.g. Treorchy, Tonypandy, Porth">
        <div id="areaSuggestions" class="suggestions-box"></div>
      </div>

      <div class="profile-row">
        <label for="profileBioInput">Bio</label>
        <textarea id="profileBioInput" placeholder="Tell locals who you are and what you sell."></textarea>
      </div>

      <div class="profile-edit-actions">
        <button id="saveProfileBtn" class="dash-save-btn">Save changes</button>
        <button id="cancelEditProfileBtn" class="cancel-edit-btn">Cancel</button>
      </div>
    </div>

    <p id="profileFeedback" class="feedback-text"></p>
  </div>

  <!-- ============================
       POST BUTTON (LIMITED)
  ============================= -->
  <button id="newPostBtn" class="dash-new-post">
    <span class="new-post-label">+ Post an Ad</span>
    <span class="new-post-tag">3 FREE</span>
  </button>

  <!-- ============================
       FOLLOW FEED
  ============================= -->
  <h3 class="dash-section-title">Updates from sellers you follow</h3>
  <div id="followFeed"></div>

  <!-- ============================
       SAVED ADS
  ============================= -->
  <h2 class="section-title">Things you’re keeping an eye on</h2>
  <div id="savedPosts" class="dash-posts-grid"></div>

  <!-- ============================
       USER ADS (LIMITED)
  ============================= -->
  <h2 class="section-title">Your ads on Noticeboard</h2>
  <div id="userPosts" class="dash-posts-grid"></div>

</section>

<!-- LOGOUT OVERLAY -->
<div id="logoutOverlay" class="logout-overlay">
  <div class="logout-card">
    <p>Logging you out...</p>
    <small>Please wait</small>
  </div>
</div>
