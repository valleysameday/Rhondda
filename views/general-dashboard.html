<link rel="stylesheet" href="/index/css/general-dashboard.css">
<input type="file" id="avatarUploadInput" accept="image/*" style="display:none;">

<header class="dash-header">
  <div class="dash-header-left">
    <p class="dash-hello">Shwmae,</p>
    <h1 id="headerName">Your Account</h1>
    <p id="headerTagline" class="dash-tagline">Letâ€™s get your Rhondda profile looking tidy</p>
  </div>

  <div class="dash-header-right">
    <span id="headerAreaBadge" class="area-badge">Add your area</span>
    <button id="logoutBtn" class="logout-btn">Log out</button>
  </div>
</header>

<section class="dash-section">

  <!-- ============================
       QUICK STATS
  ============================= -->
  <div class="stats-box">
    <h2>Your activity</h2>

    <div class="stats-row">
      <div class="stat-card">
        <span id="statAdsCount" class="stat-number">0</span>
        <span class="stat-label">Active ads</span>
      </div>

      <div class="stat-card">
        <span id="statSavedCount" class="stat-number">0</span>
        <span class="stat-label">Saved ads</span>
      </div>
    </div>

    <p id="upgradeHint" class="upgrade-hint" style="display:none;">
      Want unlimited ads, followers & more?
      <span id="scrollToPlans" class="upgrade-link">See plans</span>
    </p>
  </div>

  <!-- ============================
       PROFILE CARD
  ============================= -->
  <div class="profile-box">

    <div class="avatar-section">
      <div id="avatarClickArea" class="avatar-wrapper">
        <div id="dashboardAvatar" class="avatar-circle"></div>
      </div>
      <p class="avatar-edit-hint">Tap to change photo</p>
    </div>

    <div class="profile-box-header">
      <h2>Your Profile</h2>
      <button id="toggleEditProfile" class="edit-profile-btn">Edit profile</button>
    </div>

    <!-- VIEW MODE -->
    <div id="profileViewMode" class="profile-view">
      <div class="profile-line">
        <span class="profile-label">Name</span>
        <span id="viewName" class="profile-value">Add your name</span>
      </div>

      <div class="profile-line">
        <span class="profile-label">Phone (private)</span>
        <span id="viewPhone" class="profile-value">Add your phone</span>
      </div>

      <div class="profile-line">
        <span class="profile-label">Area</span>
        <span id="viewArea" class="profile-value">Add your area</span>
      </div>

      <div class="profile-line profile-line-bio">
        <span class="profile-label">Bio</span>
        <p id="viewBio" class="profile-value bio-value">
          Tell locals a bit about yourself and what youâ€™re selling.
        </p>
      </div>
    </div>

    <!-- EDIT MODE -->
    <div id="profileEditMode" class="profile-edit" style="display:none;">
      <div class="profile-row">
        <label for="profileNameInput">Name</label>
        <input id="profileNameInput" type="text" placeholder="Your name">
      </div>

      <div class="profile-row">
        <label for="profilePhoneInput">Phone (private)</label>
        <input id="profilePhoneInput" type="text" placeholder="Your phone number">
        <small class="hint-text">Buyers use this to contact you. Never shown publicly.</small>
      </div>

      <div class="profile-row" style="position: relative;">
        <label for="profileAreaInput">Area</label>
        <input id="profileAreaInput" type="text" placeholder="e.g. Treorchy, Tonypandy, Porth">
        <div id="areaSuggestions" class="suggestions-box"></div>
      </div>

      <div class="profile-row">
        <label for="profileBioInput">Bio</label>
        <textarea id="profileBioInput" placeholder="Tell locals who you are and what you sell."></textarea>
      </div>

      <div class="profile-edit-actions">
        <button id="saveProfileBtn" class="dash-save-btn">Save changes</button>
        <button id="cancelEditProfileBtn" class="cancel-edit-btn">Cancel</button>
      </div>
    </div>

    <p id="profileFeedback" class="feedback-text"></p>
  </div>

  <!-- ============================
       POST AN AD
  ============================= -->
  <button id="newPostBtn" class="dash-new-post">
    <span class="new-post-label">+ Post an Ad</span>
    <span id="newPostTag" class="new-post-tag">3 FREE</span>
  </button>

  <!-- ============================
       SHARE YOUR ADS
  ============================= -->
  <button id="shareAdsBtn" class="dash-share-btn">
    ðŸš€ Share your ads on socials
  </button>

  <!-- ============================
       FOLLOW FEED (Stories Style)
  ============================= -->
  <h3 class="dash-section-title">Updates from sellers you follow</h3>
  <div id="followFeed" class="stories-strip"></div>

  <!-- ============================
       SAVED ADS
  ============================= -->
  <h2 class="section-title">Things youâ€™re keeping an eye on</h2>
  <div id="savedPosts" class="dash-posts-grid"></div>

  <!-- ============================
       USER ADS
  ============================= -->
  <h2 class="section-title">Your ads on Noticeboard</h2>
  <div id="userPosts" class="dash-posts-grid"></div>

  <!-- ============================
       PLANS & PRICING (hidden until enabled)
  ============================= -->
  <section id="plansSection" class="plans-section" style="display:none;">
    <h2 class="section-title">Choose the account that suits you</h2>
    <p class="plans-subtitle">30 days free trial on any upgrade. Cancel anytime.</p>

    <div class="plans-grid">
      <!-- General -->
      <div class="plan-card plan-general">
        <h3>General</h3>
        <p class="plan-price">Free</p>
        <ul class="plan-list">
          <li>3 active ads</li>
          <li>Simple profile</li>
          <li>Great for casual selling</li>
        </ul>
        <button class="plan-btn disabled" disabled>Current plan</button>
      </div>

      <!-- Seller+ -->
      <div class="plan-card plan-seller-plus">
        <h3>Seller+</h3>
        <p class="plan-price">Â£4.99 / month</p>
        <p class="plan-trial">30 days free, then monthly</p>
        <ul class="plan-list">
          <li>Unlimited ads</li>
          <li>Gain followers</li>
          <li>Appear in follow feed</li>
          <li>Priority in search</li>
        </ul>
        <button id="chooseSellerPlus" class="plan-btn">Start free trial</button>
      </div>

      <!-- Business -->
      <div class="plan-card plan-business">
        <h3>Business</h3>
        <p class="plan-price">Â£12.99 / month</p>
        <p class="plan-trial">30 days free, then monthly</p>
        <ul class="plan-list">
          <li>Unlimited ads</li>
          <li>Business profile & branding</li>
          <li>Opening hours & links</li>
          <li>Analytics & insights</li>
        </ul>
        <button id="chooseBusiness" class="plan-btn">Start free trial</button>
      </div>
    </div>
  </section>

</section>

<!-- LOGOUT OVERLAY -->
<div id="logoutOverlay" class="logout-overlay">
  <div class="logout-card">
    <p>Logging you out...</p>
    <small>Please wait</small>
  </div>
</div>
